<html lang="en">
<head>
    <meta name="description" content="First Steps in Image 3D">
    <meta name="keywords" content="Creating Simple Image 3d">
    <meta name="author" content="Andrey Bragagnolo">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D images </title>

    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    
</head>
<body>
        <canvas id="myCanvas" class="mx-auto" width = "800" height="720" ></canvas>   

</body>
<script type="module">


    import * as THREE from 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.js'

    var contador = 0;
    function cria_luz(posicao){
    const color = 0xFFFFFF;
    const intesity = 1;
    const light = new THREE.DirectionalLight(color,intesity);
    light.position.set(posicao,5,2);
    return light;
}
   

function main(){
   
    const canvas = document.querySelector('#myCanvas');
    const renderer = new THREE.WebGLRenderer({canvas});
    

    const fov = 50;
    const aspect = 1;
    const near = 1.5;
    const far = 100;

    const cam = new THREE.PerspectiveCamera(fov,aspect,near,far);
    cam.position.z = 8;


    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0xAAAAAA);
    scene.add(cria_luz(1));
    scene.add(cria_luz(10));
    scene.add(cria_luz(22));

    const geometry = new THREE.BoxGeometry(1,1,1);
    const material = new THREE.MeshPhysicalMaterial({color: 0xff44aa88});
    material.flatShading = true;

    const cube = new THREE.Mesh(geometry,material);
    scene.add(cube);
    

    const geometry2 = new THREE.IcosahedronGeometry(1, 1);
    const material2 = new THREE.MeshPhongMaterial( { color: 0xC0C0C0 } );
    material2.flatShading = true;
    const ico = new THREE.Mesh( geometry2, material2 );

    const geometry3 = new THREE.SphereGeometry(1, 32, 16);
    const material3 = new THREE.MeshLambertMaterial( { color: 0x800080 } );
    const sphere = new THREE.Mesh( geometry3, material3 );

    cube.position.x = 2;
    cube.position.z = 2;
    cube.position.y = 0;
    sphere.position.x = 0;
    ico.position.x = -2.5;
    scene.add(sphere);
    scene.add(ico);
    //renderer.render(scene,cam)
 
    


function render(time){
    time *= 0.001;
    sphere.rotation.y = time+0.5;
    sphere.rotation.x = time+0.5;
    ico.rotation.y = time-0.3;
    cube.rotation.x = time*2;
    renderer.render(scene, cam);
    requestAnimationFrame(render);
}

requestAnimationFrame(render);
}
main();
</script>
</html>